<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>AIRPORT</title>
    <link href="//cdn.datatables.net/1.10.19/css/jquery.dataTables.min.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">

</head>
<body>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://cdn.datatables.net/1.10.16/js/jquery.dataTables.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>

<script>

    function getData() {
                console.log("getting data...");

                // Get the data from endpoint.
                $.ajax({
                    url:"api/airplane/",
                    type:"get",
                    success: function(airplane) {
                        // On successful get, reload the datatable with new data.
                        console.log("This is the data: " + airplane);
                        $('#airplaneTable').DataTable().clear();
                        $('#airplaneTable').DataTable().rows.add(airplane);
                        $('#airplaneTable').DataTable().columns.adjust().draw();
                    }
                });
            }

    $(document).ready( function () {
    $('#airplaneTable').DataTable({
                columns: [
                    { "data": "id" },
                    { "data": "amountOfTank" },
                    { "data": "name" },
                    { "data": "destination" },
                    { "data": "departure" },
                    { "data": "flightnumber" }
                ]
            });
            getData();
    });
</script>


<table id="airplaneTable">
    <thead>
        <tr>
            <th><strong>ID</strong></th>
            <th><strong>Amount of tank</strong></th>
            <th><strong>Name</strong></th>
            <th><strong>Flight number</strong></th>
            <th><strong>Destination</strong></th>
            <th><strong>Departure</strong></th>
        </tr>
    </thead>
    <tbody>
    </tbody>
</table>
</body>
</html>